# 正则表达式

正则表达式用于定义一些字符串的规则。

- 创建一个正则表达式的对象，语法：

  ```js
  var 变量 = new RegExp('正则表达式','匹配模式')
  ```

- 第二个参数可以是：

  1. `i`：忽略大小写
  2. `g`：全局匹配模式

- `test()`：用来检查一个字符串是否复合正则表达式的规则，如果符合返回`true`，否则返回`false`

  ```js
  var reg = new RegExp('a')   //检测字符串中是否含有a
  var str = 'a'
  var res = reg.test(str)    //true
  ```

## 正则语法

- 使用字面量创建正则表达式，语法：

  ```js
  var 变量 = /正则表达式/匹配模式
  ```

- 检查字符串中是否含有a或b，`'|'`表示或者

  ```js
  var reg = /a|b/
  ```

- 检查字符串中是否有字母，`[]`里的内容也是或的内容。`[a-z]`表示任意小写字母。`[A-z]`表示任意字母

  ```js
  var reg = /[a-z]/
  ```

- 检查字符串中是否含有`abc`、`adc`、`aec`

  ```js
  var reg = /a[bde]c/
  ```

- 除了`^[ab]`

  ```js
  var reg = /^[ab]/
  ```

- 任意数字

  ```js
  var reg = /[0-9]/
  ```

## 字符串和正则相关的方法

- `split()`用来拆分数组。

  根据任意字母拆分数组

  ```js
  var str = '1a2b3c5d'
  var res = str.split(/[a-z/)    //[1,2,3,5]
  ```

- `search()`搜索字符串中是否含有指定内容，与`indexOf()`相似。

  只会查找第一个，即使设置全局匹配也没用。

  搜索字符串中是否含有`abc`、`aec`、`adc`

  ```js
  var str = 'abc hello'
  var res = str.search(/a[bde]c/)
  ```

- `match()`可以根据正则表达式，从一个字符串中将复合条件的内容提取出来。

  默认情况下`match`找到第一个复合要求的内容，就会停止检索，可以设置全局匹配模式来查找到所有的内容。

  `match`会将匹配到的内容封装到一个数组中返回。

  ```js
  var str = '1a2b3c5d'
  var res = str.match(/[a-z]/g)    // [a,b,c,d]
  ```

- `replace()`可以将字符串中指定内容替换为新的内容。

  有两个参数：第一个参数是被替换的内容，第二个参数是新的内容。

  默认只会替换第一个。

  ```js
  var str = '1a2b3c5da'
  var res = str.replace(/a/g, '-')    //  1-2b3c5da
  ```

## 正则表达式语法

### 量词

可以通过量词来设置一个内容出现的次数，且只对它前面的第一个内容起作用。

- `{n}` 正好出现的次数

  检查字符串中是否含有`aaa`

    ```js
  var reg = /a{3}/
    ```

- `{m,n}` 出现`m-n`次

  检查字符串中是否出现1-3次b

  ```js
  var reg = /ab{1,3}c/
  ```

- `{m,}` 出现m次以上

- `m+` 至少一个，相当于`{1,}`

- `m*` 0个或多个，相当于`{0,}`

- `m?` 0个或一个，相当于`{0,1}`

### 符号

- `^`表示是否以一个字母开头

  ```js
  var reg = /^a/
  ```

- `$`表示以什么结尾

  ```js
  var reg = /a$/
  ```

- 注意：`/^a$/`表示以a开头并马上结尾。同时设定开头和结尾需要使用`/^a/a$/`

- `.`表示任意字符

  在正则表达式中使用`\`作为转义字符。

  检查一个字符串中是否含有`.`

  ```js
  var reg = /\./
  ```

## 字母

- `\w`：任意字母、数字、`_`

- `\W`：除了字母、数字、`_`

- `\d`：任意数字

- `\D`：除了数字

- `\s`：空格

- `\S`：除了空格

- `\b`：单词边界，独立单词

  检测字符串中是否含有单词`child`

  ```js
  var reg = /\bchild\b/
  ```

- `\B` ：除了单词边界

### 手机号检测

手机号规则：

- 11位数字
- 以1开头
- 第二位是3-9的任意数字
- 三位以后9个任意数字

```js
var reg = /^1[3-9][0-9]{9}$/
```

### 去空格

```js
var reg = str.replace(/^\s*|\s*$/g,'')
```

### 邮件正则

邮件规则：

任意字母数字下划线  .任意字母数字下划线 @ 任意字母数字`.` `com`.`cn`任意字母(2-5位)

```js
var reg = /^\w{3,}(\.\w+)*@[a-z0-9]+(\.[A-z]{2-5}){1,2}$/
```

